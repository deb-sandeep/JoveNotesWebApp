1. Checkout or sync PHPAppFramework and PHPWebApps to ~/projects/source folder
	- use rsync to synchronize a pre prod copy to the production server
	- use the following flags
		rsync -rp --exclude='.git/' --copy-links <local source> <user>@<server>:/home/<user>/projects/source/
		NOTE: There is no trailing / after the local source folder

2. Change the apache document root to /var/www (if it is /var/www/html)

3. Make the following symlinks in /var/www
	- sudo ln -s /home/sandeep/projects/source/PHPWebApps/ -T apps
	- sudo ln -s /home/sandeep/projects/source/PHPAppFramework/index.php
	- sudo ln -s /home/sandeep/projects/source/PHPAppFramework/lib-app/
	- sudo ln -s /home/sandeep/projects/source/PHPAppFramework/lib-ext/
	- sudo ln -s /home/sandeep/projects/source/PHPAppFramework/phpinfo.php
	- sudo ln -s /home/sandeep/projects/source/PHPAppFramework/.htaccess

4. Install log4php
	
	$ sudo apt-get install php-pear
	$ sudo pear channel-discover pear.apache.org/log4php
	$ sudo pear install log4php/Apache_log4php

	NOTE: If pear is not able to unzip .tgz file, let pear download and fail. 
	      Then go to the directory where the tgz is downloaded, gunzip them into 
	      tar balls and then 'sudo pear update ./*.tar' - this seems to work!

		  PEAR keeps downloaded archives in /build/buildd/php5-5.5.9+dfsg/pear-build-download
		  The php5-5.5.9 may differ based on the PHP version you have

5. Install memcached
	$ sudo apt-get install php5-memcached memcached

	https://www.digitalocean.com/community/tutorials/how-to-install-and-use-memcache-on-ubuntu-14-04

6. Install the database (export and import from pre-prod env)

7. Set up the DB_PASSWORD environment variable for apache
	
	- Edit /etc/apache2/envvars
	- Add "export DB_PASSWORD=<password>"

8. Enable mod_rewrite in apache
	$ sudo a2enmod rewrite
	- Ensure you have the following defined in sites-enabled/000-default..

        <Directory /var/www/>
                Options Indexes FollowSymLinks MultiViews
                AllowOverride all
                Order allow,deny
                allow from all

				#LogLevel alert rewrite:trace3
        </Directory>

    - Ensure the following is updated in /etc/apache2/mods-enabled/mime.conf

    	AddType application/x-httpd-php .php


9. Restart Apache
	$ sudo service apache2 restart

