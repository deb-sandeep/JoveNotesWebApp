<div class="row" ng-show="gradingButtonPlacement == 'right'">

    <div class="col-sm-5"
         style="padding-left:0px, padding-right:0px">

        <!-- The toggle header popup -->
        <div class="dropup" style="display:inline" ng-show="showFooterDropup">
          <button type="button" 
                  class="btn btn-primary dropdown-toggle btn-lg" 
                  data-toggle="dropdown">
            <span class="glyphicon glyphicon-equalizer"></span>
            <span class="caret"></span>
          </button>
          <ul class="dropdown-menu" role="menu">
            <li role="presentation">
                <a role="menuitem" tabindex="-1" ng-click="endSession()">
                    <span class="glyphicon glyphicon-off"></span>
                    End session
                </a>
            </li>
            <li role="presentation">
                <a role="menuitem" tabindex="-1" ng-click="pushQuestion()">
                    <span class="glyphicon glyphicon-send"></span>
                    Push question
                </a>
            </li>
            <li role="presentation">
                <a role="menuitem" tabindex="-1" ng-click="toggleDisplay('L0-Hdr')">
                Toggle Title Header
                </a>
            </li>
            <li role="presentation">
                <a role="menuitem" tabindex="-1" ng-click="toggleDisplay('L1-Hdr')">
                Toggle Session Header
                </a>
            </li>
            <li role="presentation">
                <a role="menuitem" tabindex="-1" ng-click="toggleDisplay('L2-Hdr')">
                Toggle Card Header
                </a>
            </li>
            <li role="presentation">
                <a role="menuitem" tabindex="-1" ng-click="toggleCompactControls()">
                Toggle Compact Controls
                </a>
            </li>
            <li role="presentation">
                <a role="menuitem" tabindex="-1" ng-click="markForReview()">
                    <span class="glyphicon glyphicon-registration-mark"></span>
                    Mark for review
                </a>
            </li>
            <li role="presentation">
                <a role="menuitem" tabindex="-1" ng-click="alertStudent()">
                    <span class="glyphicon glyphicon-fire"></span>
                    Alert student
                </a>
            </li>
            <li role="presentation">
                <a role="menuitem" tabindex="-1" ng-click="toggleFooterDirection()">
                    <span class="glyphicon glyphicon-transfer"></span>
                    Toggle Footer Direction
                </a>
            </li>
            <li role="presentation">
                <a role="menuitem" tabindex="-1" ng-click="randomizeCards()">
                    <span class="glyphicon glyphicon-random"></span>
                    Randomize cards
                </a>
            </li>
            <li role="presentation">
                <a role="menuitem" tabindex="-1" ng-click="purgeNotAttemptedCards()">
                    <span class="glyphicon glyphicon-share"></span>
                    Purge non attempted cards
                </a>
            </li>
          </ul>
        </div>

        <div class="pull-right">

            <button type="button" 
                    class="btn btn-success btn-lg"
                    ng-click="toggleFooterDirection()"
                    data-toggle="tooltip" data-placement="top" 
                    title="Toggle footer direction">
                <span class="glyphicon glyphicon-transfer"></span>
            </button>

            <button type="button"
                    class="btn btn-warning btn-lg"
                    ng-click="markForReview()"
                    data-toggle="tooltip" data-placement="top"
                    title="Mark for review">
                <span class="glyphicon glyphicon-registration-mark"></span>
            </button>

            <button type="button"
                    class="btn btn-info btn-lg"
                    ng-click="purgeCard()"
                    data-toggle="tooltip" data-placement="top"
                    title="Purge card"
                    ng-disabled="isRatingControlEnabled()">
                <span class="glyphicon glyphicon-new-window"></span>
            </button>

            <button type="button"
                    class="btn btn-info btn-lg"
                    ng-click="increaseFontSize()"
                    data-toggle="tooltip" data-placement="top" 
                    title="Increase font size">
                <span class="glyphicon glyphicon-plus-sign"></span>
            </button>

            <button type="button" 
                    class="btn btn-info btn-lg"
                    ng-click="decreaseFontSize()"
                    data-toggle="tooltip" data-placement="top" 
                    title="Decrease font size">
                <span class="glyphicon glyphicon-minus-sign"></span>
            </button>

            <button type="button" 
                    class="btn btn-warning btn-lg"
                    ng-click="pauseSession()"
                    data-toggle="tooltip" data-placement="top" 
                    title="Pause Session">
                <span class="glyphicon glyphicon-pause"></span>
            </button>

            <!-- The Push Answer button button. This is shown only if we are  -->
            <!-- conducting a remote session                                  -->
            <button type="button" 
                    class="btn btn-success btn-lg"
                    ng-click="pushAnswer()"
                    ng-show="studyCriteria.push"
                    data-toggle="tooltip" data-placement="top" 
                    title="Push answer">
                <span class="glyphicon glyphicon-share-alt"></span>
            </button>
        </div>

    </div>

    <div class="col-sm-7 pull-right">
        <div class="btn-group btn-group-justified" role="group" ng-show="!questionMode">
          <div class="btn-group" role="group">
            <button type="button" class="btn btn-danger btn-lg"
                    ng-click="rateCard( 'H' )"
                    ng-disabled="isRatingControlEnabled()"
                    data-toggle="tooltip" data-placement="top" 
                    title="Difficult">&nbsp;</button>
          </div>
          <div class="btn-group" role="group">
            <button type="button" class="btn btn-warning btn-lg"
                    ng-click="rateCard( 'P' )"
                    ng-disabled="isRatingControlEnabled()"
                    data-toggle="tooltip" data-placement="top" 
                    title="Needs practice">&nbsp;</button>
          </div>
          <div class="btn-group" role="group">
            <button type="button" class="btn btn-info btn-lg"
                    ng-click="rateCard( 'A' )"
                    ng-disabled="isRatingControlEnabled()"
                    data-toggle="tooltip" data-placement="top" 
                    title="Almost correct">&nbsp;</button>
          </div>
          <!-- APMNS - Auto promote to mastered without scoring. -->
          <div class="btn-group" role="group" ng-show="recommendPromoteToMasteredWithoutScore">
            <button type="button" class="btn btn-success btn-lg"
                    ng-click="rateCard( 'APMNS' )"
                    ng-disabled="isRatingControlEnabled()"
                    data-toggle="tooltip" data-placement="top" 
                    title="Auto promote to mastered">
                <span class="glyphicon glyphicon-education"></span>
                <span class="glyphicon glyphicon-education"></span>
            </button>
          </div>
          <!-- APM - Auto promote to mastered with scoring. -->
          <div class="btn-group" role="group" ng-show="recommendPromoteToMastered">
            <button type="button" class="btn btn-success btn-lg"
                    ng-click="rateCard( 'APM' )"
                    ng-disabled="isRatingControlEnabled()"
                    data-toggle="tooltip" data-placement="top" 
                    title="Auto promote to mastered">
                <span class="glyphicon glyphicon-education"></span>
            </button>
          </div>
          <div class="btn-group" role="group">
            <button type="button" class="btn btn-success btn-lg"
                    ng-click="rateCard( 'E' )"
                    ng-disabled="isRatingControlEnabled()"
                    data-toggle="tooltip" data-placement="top" 
                    title="Correct">
                <span class="badge {{currentQuestion.learningStats.currentLevel}}"
                      ng-hide="currentQuestion.learningStats.numAttempts > 0 && 
                               currentQuestion.learningStats.currentLevel == 'NS'">
                    {{currentQuestion.learningStats.currentLevel}}
                </span>
                <span class="badge muted"
                      ng-show="currentQuestion.learningStats.numAttempts > 0 && 
                               currentQuestion.learningStats.currentLevel == 'NS'">
                    RS
                </span>
            </button>
          </div>
        </div>

        <div class="btn-group btn-group-justified" role="group" ng-show="questionMode">
          <!-- APMNS - Auto promote to mastered without scoring. -->
          <div class="btn-group" role="group" ng-show="recommendPromoteToMasteredWithoutScore">
            <button type="button" class="btn btn-primary btn-lg"
                    ng-click="rateCard( 'APMNS' )"
                    data-toggle="tooltip" data-placement="top" 
                    title="Auto promote to mastered">
                <span class="glyphicon glyphicon-education"></span>
                <span class="glyphicon glyphicon-education"></span>
            </button>
          </div>
          <div class="btn-group" role="group">
            <button type="button" class="btn btn-primary btn-lg"
                    ng-click="showAnswer()">
                Show Answer
            </button>
          </div>
        </div>
    </div>
</div>

<div class="row" ng-show="gradingButtonPlacement == 'left'">
    <div class="col-sm-7 pull-left">
        <div class="btn-group btn-group-justified" role="group" ng-show="!questionMode">
          <div class="btn-group" role="group">
            <button type="button" class="btn btn-success btn-lg"
                    ng-click="rateCard( 'E' )"
                    ng-disabled="isRatingControlEnabled()"
                    data-toggle="tooltip" data-placement="top" 
                    title="Correct">
                <span class="badge {{currentQuestion.learningStats.currentLevel}}"
                      ng-hide="currentQuestion.learningStats.numAttempts > 0 && 
                               currentQuestion.learningStats.currentLevel == 'NS'">
                    {{currentQuestion.learningStats.currentLevel}}
                </span>
                <span class="badge muted"
                      ng-show="currentQuestion.learningStats.numAttempts > 0 && 
                               currentQuestion.learningStats.currentLevel == 'NS'">
                    RS
                </span>
            </button>
          </div>
          <div class="btn-group" role="group" ng-show="recommendPromoteToMastered">
            <button type="button" class="btn btn-success btn-lg"
                    ng-click="rateCard( 'APM' )"
                    ng-disabled="isRatingControlEnabled()"
                    data-toggle="tooltip" data-placement="top" 
                    title="Auto promote to mastered">
                <span class="glyphicon glyphicon-education"></span>
            </button>
          </div>
          <div class="btn-group" role="group" ng-show="recommendPromoteToMasteredWithoutScore">
            <button type="button" class="btn btn-success btn-lg"
                    ng-click="rateCard( 'APMNS' )"
                    ng-disabled="isRatingControlEnabled()"
                    data-toggle="tooltip" data-placement="top" 
                    title="Auto promote to mastered">
                <span class="glyphicon glyphicon-education"></span>
                <span class="glyphicon glyphicon-education"></span>
            </button>
          </div>
          <div class="btn-group" role="group">
            <button type="button" class="btn btn-info btn-lg"
                    ng-click="rateCard( 'A' )"
                    ng-disabled="isRatingControlEnabled()"
                    data-toggle="tooltip" data-placement="top" 
                    title="Almost correct">&nbsp;</button>
          </div>
          <div class="btn-group" role="group">
            <button type="button" class="btn btn-warning btn-lg"
                    ng-click="rateCard( 'P' )"
                    ng-disabled="isRatingControlEnabled()"
                    data-toggle="tooltip" data-placement="top" 
                    title="Needs practice">&nbsp;</button>
          </div>
          <div class="btn-group" role="group">
            <button type="button" class="btn btn-danger btn-lg"
                    ng-click="rateCard( 'H' )"
                    ng-disabled="isRatingControlEnabled()"
                    data-toggle="tooltip" data-placement="top" 
                    title="Difficult">&nbsp;</button>
          </div>
        </div>

        <div class="btn-group btn-group-justified" role="group" ng-show="questionMode">
          <div class="btn-group" role="group">
            <button type="button" class="btn btn-primary btn-lg"
                    ng-click="showAnswer()">
                Show Answer
            </button>
          </div>
          <!-- APMNS - Auto promote to mastered without scoring. -->
          <div class="btn-group" role="group" ng-show="recommendPromoteToMasteredWithoutScore">
            <button type="button" class="btn btn-primary btn-lg"
                    ng-click="rateCard( 'APMNS' )"
                    data-toggle="tooltip" data-placement="top" 
                    title="Auto promote to mastered">
                <span class="glyphicon glyphicon-education"></span>
                <span class="glyphicon glyphicon-education"></span>
            </button>
          </div>
        </div>
    </div>

    <div class="col-sm-5"
         style="padding-left:0px, padding-right:0px">

        <div class="pull-left">
            <!-- The Push Answer button button. This is shown only if we are  -->
            <!-- conducting a remote session                                  -->
            <button type="button" 
                    class="btn btn-success btn-lg"
                    ng-click="pushAnswer()"
                    ng-show="studyCriteria.push"
                    data-toggle="tooltip" data-placement="top" 
                    title="Push answer">
                <span class="glyphicon glyphicon-share-alt"></span>
            </button>

            <button type="button" 
                    class="btn btn-warning btn-lg"
                    ng-click="pauseSession()"
                    data-toggle="tooltip" data-placement="top" 
                    title="Pause Session">
                <span class="glyphicon glyphicon-pause"></span>
            </button>

            <button type="button" 
                    class="btn btn-info btn-lg"
                    ng-click="increaseFontSize()"
                    data-toggle="tooltip" data-placement="top" 
                    title="Increase font size">
                <span class="glyphicon glyphicon-plus-sign"></span>
            </button>

            <button type="button" 
                    class="btn btn-info btn-lg"
                    ng-click="decreaseFontSize()"
                    data-toggle="tooltip" data-placement="top" 
                    title="Decrease font size">
                <span class="glyphicon glyphicon-minus-sign"></span>
            </button>

            <button type="button" 
                    class="btn btn-info btn-lg"
                    ng-click="purgeCard()"
                    ng-disabled="isRatingControlEnabled()"
                    data-toggle="tooltip" data-placement="top" 
                    title="Purge card">
                <span class="glyphicon glyphicon-new-window"></span>
            </button>

            <button type="button"
                    class="btn btn-warning btn-lg"
                    ng-click="markForReview()"
                    data-toggle="tooltip" data-placement="top"
                    title="Mark for review">
                <span class="glyphicon glyphicon-registration-mark"></span>
            </button>

            <button type="button"
                    class="btn btn-success btn-lg"
                    ng-click="toggleFooterDirection()"
                    data-toggle="tooltip" data-placement="top"
                    title="Toggle footer direction">
                <span class="glyphicon glyphicon-transfer"></span>
            </button>

        </div>

        <!-- The toggle header popup -->
        <div class="dropup pull-right" style="display:inline" ng-show="showFooterDropup">
          <button type="button" 
                  class="btn btn-primary dropdown-toggle btn-lg" 
                  data-toggle="dropdown">
            <span class="glyphicon glyphicon-equalizer"></span>
            <span class="caret"></span>
          </button>
          <ul class="dropdown-menu" role="menu">
            <li role="presentation">
                <a role="menuitem" tabindex="-1" ng-click="endSession()">
                    <span class="glyphicon glyphicon-off"></span>
                    End session
                </a>
            </li>
            <li role="presentation">
                <a role="menuitem" tabindex="-1" ng-click="pushQuestion()">
                    <span class="glyphicon glyphicon-send"></span>
                    Push question
                </a>
            </li>
            <li role="presentation">
                <a role="menuitem" tabindex="-1" ng-click="toggleDisplay('L0-Hdr')">
                Toggle Title Header
                </a>
            </li>
            <li role="presentation">
                <a role="menuitem" tabindex="-1" ng-click="toggleDisplay('L1-Hdr')">
                Toggle Session Header
                </a>
            </li>
            <li role="presentation">
                <a role="menuitem" tabindex="-1" ng-click="toggleDisplay('L2-Hdr')">
                Toggle Card Header
                </a>
            </li>
            <li role="presentation">
                <a role="menuitem" tabindex="-1" ng-click="toggleCompactControls()">
                Toggle Compact Controls
                </a>
            </li>
            <li role="presentation">
                <a role="menuitem" tabindex="-1" ng-click="markForReview()">
                    <span class="glyphicon glyphicon-registration-mark"></span>
                    Mark for review
                </a>
            </li>
            <li role="presentation">
                <a role="menuitem" tabindex="-1" ng-click="alertStudent()">
                    <span class="glyphicon glyphicon-fire"></span>
                    Alert student
                </a>
            </li>
            <li role="presentation">
                <a role="menuitem" tabindex="-1" ng-click="toggleFooterDirection()">
                    <span class="glyphicon glyphicon-transfer"></span>
                    Toggle Footer Direction
                </a>
            </li>
            <li role="presentation">
                <a role="menuitem" tabindex="-1" ng-click="randomizeCards()">
                    <span class="glyphicon glyphicon-random"></span>
                    Randomize cards
                </a>
            </li>
            <li role="presentation">
                <a role="menuitem" tabindex="-1" ng-click="purgeNotAttemptedCards()">
                    <span class="glyphicon glyphicon-share"></span>
                    Purge non attempted cards
                </a>
            </li>
          </ul>
        </div>
    </div>
</div>

<div ng-show="!questionMode && showCompactControl && gradingButtonPlacement == 'right'" 
     class="compact-right-controls">

    <button type="button"
            class="btn btn-lg floating-ctrl-12"
            style="background: transparent;color:blue;"
            ng-click="markForReview()">
        <span class="glyphicon glyphicon-registration-mark"></span>
    </button>

    <button type="button"
            class="btn btn-lg floating-ctrl-13"
            style="background: transparent;color:red;"
            ng-click="purgeCard()"
            ng-disabled="isRatingControlEnabled()">
        <span class="glyphicon glyphicon-new-window"></span>
    </button>

    <button type="button"
            class="btn btn-lg floating-ctrl-21"
            style="background: transparent;color:saddlebrown;"
            ng-click="moveCurrentCardToEnd()">
        <span class="glyphicon glyphicon-log-in"></span>
    </button>

    <button type="button"
            class="btn btn-info btn-lg floating-ctrl-22"
            ng-click="rateCard( 'A' )"
            ng-disabled="isRatingControlEnabled()">
        <span class="badge {{getNextLevel( 'A')}}">
            {{getNextLevel( 'A' )}}
        </span>
    </button>

    <button type="button" 
            class="btn btn-warning btn-lg floating-ctrl-23"
            ng-click="rateCard( 'P' )"
            ng-disabled="isRatingControlEnabled()">
        <span class="badge {{getNextLevel( 'P')}}">
            {{getNextLevel( 'P' )}}
        </span>
    </button>

    <button type="button" 
            class="btn btn-lg floating-ctrl-31"
            style="background: transparent;color: orange;"
            ng-click="pauseSession()">
        <span class="glyphicon glyphicon-pause"></span>
    </button>

    <button type="button" 
            class="btn btn-danger btn-lg floating-ctrl-32"
            ng-click="rateCard( 'H' )"
            ng-disabled="isRatingControlEnabled()">
        <span class="badge {{getNextLevel( 'H')}}">
            {{getNextLevel( 'H' )}}
        </span>
    </button>

    <button type="button" 
            class="btn btn-lg floating-ctrl-33"
            style="background: lightgray;color: blue;"
            ng-click="pushAnswer()"
            ng-show="studyCriteria.push">
        <span class="glyphicon glyphicon-share-alt"></span>
    </button>

</div>

<div ng-show="!questionMode && showCompactControl && gradingButtonPlacement == 'left'" 
     class="compact-left-controls">

    <button type="button" 
            class="btn btn-lg floating-ctrl-11"
            style="background: transparent;color:red;"
            ng-click="purgeCard()"
            ng-disabled="isRatingControlEnabled()">
        <span class="glyphicon glyphicon-new-window"></span>
    </button>

    <button type="button"
            class="btn btn-lg floating-ctrl-12"
            style="background: transparent;color:blue;"
            ng-click="markForReview()">
        <span class="glyphicon glyphicon-registration-mark"></span>
    </button>

    <button type="button"
            class="btn btn-warning btn-lg floating-ctrl-21"
            ng-click="rateCard( 'P' )"
            ng-disabled="isRatingControlEnabled()">
        <span class="badge {{getNextLevel( 'P')}}">
            {{getNextLevel( 'P' )}}
        </span>
    </button>

    <button type="button" 
            class="btn btn-info btn-lg floating-ctrl-22"
            ng-click="rateCard( 'A' )"
            ng-disabled="isRatingControlEnabled()">
        <span class="badge {{getNextLevel( 'A')}}">
            {{getNextLevel( 'A' )}}
        </span>
    </button>

    <button type="button"
            class="btn btn-lg floating-ctrl-23"
            style="background: transparent;color:saddlebrown;"
            ng-click="moveCurrentCardToEnd()">
        <span class="glyphicon glyphicon-log-in"></span>
    </button>

    <button type="button"
            class="btn btn-lg floating-ctrl-31"
            style="background: lightgray;color: blue;"
            ng-click="pushAnswer()"
            ng-show="studyCriteria.push">
        <span class="glyphicon glyphicon-share-alt"></span>
    </button>

    <button type="button" 
            class="btn btn-danger btn-lg floating-ctrl-32"
            ng-click="rateCard( 'H' )"
            ng-disabled="isRatingControlEnabled()">
        <span class="badge {{getNextLevel( 'H')}}">
            {{getNextLevel( 'H' )}}
        </span>
    </button>

    <button type="button" 
            class="btn btn-lg floating-ctrl-33"
            style="background: transparent;color: orange;"
            ng-click="pauseSession()">
        <span class="glyphicon glyphicon-pause"></span>
    </button>

</div>

<div ng-show="!questionMode && showCompactControl && gradingButtonPlacement == 'right' && answerPushed"
     class="ans-push-duration-right-controls">
    <button type="button"
            class="btn btn-lg floating-ans-push-timer-4"
            ng-click="setAnsPushTimer(15)"
            ng-disabled="isRatingControlEnabled()">
        <span class="ans-push-time">15</span>
    </button>

    <button type="button"
            class="btn btn-lg floating-ans-push-timer-3"
            ng-click="setAnsPushTimer(30)"
            ng-disabled="isRatingControlEnabled()">
        <span class="ans-push-time">30</span>
    </button>

    <button type="button"
            class="btn btn-lg floating-ans-push-timer-2"
            ng-click="setAnsPushTimer(45)"
            ng-disabled="isRatingControlEnabled()">
        <span class="ans-push-time">45</span>
    </button>

    <button type="button"
            class="btn btn-lg floating-ans-push-timer-1"
            ng-click="setAnsPushTimer(60)"
            ng-disabled="isRatingControlEnabled()">
        <span class="ans-push-time">60</span>
    </button>
</div>

<div ng-show="!questionMode && showCompactControl && gradingButtonPlacement == 'left' && answerPushed"
     class="ans-push-duration-left-controls">
    <button type="button"
            class="btn btn-lg floating-ans-push-timer-4"
            ng-click="setAnsPushTimer(15)"
            ng-disabled="isRatingControlEnabled()">
        <span class="ans-push-time">15</span>
    </button>

    <button type="button"
            class="btn btn-lg floating-ans-push-timer-3"
            ng-click="setAnsPushTimer(30)"
            ng-disabled="isRatingControlEnabled()">
        <span class="ans-push-time">30</span>
    </button>

    <button type="button"
            class="btn btn-lg floating-ans-push-timer-2"
            ng-click="setAnsPushTimer(45)"
            ng-disabled="isRatingControlEnabled()">
        <span class="ans-push-time">45</span>
    </button>

    <button type="button"
            class="btn btn-lg floating-ans-push-timer-1"
            ng-click="setAnsPushTimer(60)"
            ng-disabled="isRatingControlEnabled()">
        <span class="ans-push-time">60</span>
    </button>
</div>
